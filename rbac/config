apiVersion: v1
kind: Config
preferences: {}

# Define the cluster
clusters:
- cluster:
    # kubectl get secret rbac-test-user-token-xxxxx -n rbac-test -o "jsonpath={.data['ca\.crt']}"
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1Ea3hOakV3TkRBeU1Gb1hEVEk1TURreE16RXdOREF5TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3ZNCkc0RXVRS3RiamM1L1NEcm9iMlR0RFFmQnAramlxRzRjNWVxV0hzMGQ2TTJ6ckdPS3UrM3FxZU82bEE4VC9qNCsKQzVpUU9CSThqMXk3bEpqRVJ3UmlZL3BjOHJucXhNMVRHQzlIRmNPQkVRZ3B3bk8yNmhFaHcweFA3ZXB6a1JKLwpqaUJTR2ZrWWZkQVU2WWkvakRGc0dJOVZCOHlIUG9GRTF5RmZjVGpwa2NsZUtZVzdabk1rdHR4dEtGTlpyVG5mCnEwd3JlRnFXR3U2aHJteGJ5ZjRrdHVqU0RydWlrZTJFTXNKelZ6Nk41RFBIRnk4OVVhZzcwamNDSTJiZnExdmEKdVNNT3hXci9kdWhlN2drNlNsVlNsZGw5OThLUmdHVUdRSzI1RkhGK0ZMNEY0Q1RGNGhuQlAxQ3Ewdm5uOWp6cApyY1FpUVBCZ3BiTHJWYTNYM1BNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKN1UrcDlqcCtYblVPWG51T3lXZzlBQmx2MWEKaVB4U3U2eVdqQWtnak1xTTZWSE5MS2hZbnBpQ0pmTGQxb0t4dWx5UDE2cXZRb0FoU202ZjR6dHdIbmRZMHhUSAplMHRkUjRLV0lCUGJ4VWEzVmR5SUptWllab1p1NkwyL29XelFHcXBnVi8rbnhhK1VCZEwzMDJuTVAxZDlTKzN6CkE4dW9KcW5SalEzS1l0QTJ3YjhZTkJ2SmZkQzlkbENwUjBsUGwwQzc5RERNUU15RXh5RE85R25YYktaNkdORkkKdWpCazN3NGFhajFoYUg5VTZhTkhtb3R1WC81Z1NUMmppeGl0THJJclRGcklmbkJFMVRscDJPR3pVbkVqa1NaNwpudmFrMlg3U1czcnl4UGVLN1FHMzR6eWd6aTRLZy9iNHVEU0Y1WHJSRzhwdTVqRjRhVDhzUjhWN0NMWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    # You'll need the API endpoint of your Cluster here:
    server: https://master-ip:master-port
  name: my-cluster

# Define the user
users:
- name: rbac-test-user
  user:
    as-user-extra: {}
    # same as certificate-authority-data above
    client-key-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1Ea3hOakV3TkRBeU1Gb1hEVEk1TURreE16RXdOREF5TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3ZNCkc0RXVRS3RiamM1L1NEcm9iMlR0RFFmQnAramlxRzRjNWVxV0hzMGQ2TTJ6ckdPS3UrM3FxZU82bEE4VC9qNCsKQzVpUU9CSThqMXk3bEpqRVJ3UmlZL3BjOHJucXhNMVRHQzlIRmNPQkVRZ3B3bk8yNmhFaHcweFA3ZXB6a1JKLwpqaUJTR2ZrWWZkQVU2WWkvakRGc0dJOVZCOHlIUG9GRTF5RmZjVGpwa2NsZUtZVzdabk1rdHR4dEtGTlpyVG5mCnEwd3JlRnFXR3U2aHJteGJ5ZjRrdHVqU0RydWlrZTJFTXNKelZ6Nk41RFBIRnk4OVVhZzcwamNDSTJiZnExdmEKdVNNT3hXci9kdWhlN2drNlNsVlNsZGw5OThLUmdHVUdRSzI1RkhGK0ZMNEY0Q1RGNGhuQlAxQ3Ewdm5uOWp6cApyY1FpUVBCZ3BiTHJWYTNYM1BNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKN1UrcDlqcCtYblVPWG51T3lXZzlBQmx2MWEKaVB4U3U2eVdqQWtnak1xTTZWSE5MS2hZbnBpQ0pmTGQxb0t4dWx5UDE2cXZRb0FoU202ZjR6dHdIbmRZMHhUSAplMHRkUjRLV0lCUGJ4VWEzVmR5SUptWllab1p1NkwyL29XelFHcXBnVi8rbnhhK1VCZEwzMDJuTVAxZDlTKzN6CkE4dW9KcW5SalEzS1l0QTJ3YjhZTkJ2SmZkQzlkbENwUjBsUGwwQzc5RERNUU15RXh5RE85R25YYktaNkdORkkKdWpCazN3NGFhajFoYUg5VTZhTkhtb3R1WC81Z1NUMmppeGl0THJJclRGcklmbkJFMVRscDJPR3pVbkVqa1NaNwpudmFrMlg3U1czcnl4UGVLN1FHMzR6eWd6aTRLZy9iNHVEU0Y1WHJSRzhwdTVqRjRhVDhzUjhWN0NMWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    # kubectl get secret rbac-test-user-token-xxxxx -n rbac-test -o "jsonpath={.data.token}" | base64 -D
    token: eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyYmFjLXRlc3QiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoicmJhYy10ZXN0LXVzZXItdG9rZW4tanJrenMiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoicmJhYy10ZXN0LXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiI5ODRjZjcxOS1lOTg0LTQ2ZmEtYWQ1MC1lOTU4ODhkMTAxYjAiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6cmJhYy10ZXN0OnJiYWMtdGVzdC11c2VyIn0.gf5t_-4odiKUpuTD5a-d_8Lf-zjh9f26DIcIZ40REe_E6AOwVc2Ai78xaePIW9wChpDzlz3QSRqwrHPzzRe718ECJj_u6kM9l3vAayudr4e9BS-h9uNjk7G-iS9wFVdpn9k7Nv9RVi4HgJDaPYslwcp6qVokYEex2GDSs4qSOybVrN9nhrDeJAhmiN7FvQM30tEOHVD15wlU8xzrLavP1599XXzGmrT64aFWexgm5aCVauebyIx8Fpl0t_XavFTmXLFIpcMujTLeQGDUOVeWzI2MvkAevZb8cEBdVecAa7bvNoWrCwplZOvO14gJoKh2rbZqjUIQawH5mlkIdqWqKA

# Define the context: linking a user to a cluster
contexts:
- context:
    cluster: my-cluster
    namespace: rbac-test
    user: rbac-test-user
  name: rbac-test

# Define current context
current-context: rbac-test
